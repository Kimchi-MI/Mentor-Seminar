#!/bin/bash

usage=$(df / | awk 'NR==2 {print $5}' | tr -d '%')

# Проверяем что переменная не пустая и является числом
if [ -z "$usage" ] || ! [[ "$usage" =~ ^[0-9]+$ ]]; then
    echo "Ошибка: не удалось получить использование диска"
    exit 1
fi

if [ "$usage" -gt 80 ]; then
    echo "ПРЕДУПРЕЖДЕНИЕ: Диск заполнен на $usage%"
else
    echo "Диск заполнен на $usage% - всё в порядке"
fi

